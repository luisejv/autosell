<div
  class="section-title-page area-bg area-bg_dark area-bg_op_60 section-title-page_mod-b"
>
  <div class="area-bg__inner">
    <div class="container text-center">
      <h1 class="b-title-page">Carros Publicados</h1>
      <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
          <li class="breadcrumb-item">
            <a routerLink="dashboard">Dashboard</a>
          </li>
          <li class="breadcrumb-item active" aria-current="page">
            Carros Publicados
          </li>
        </ol>
      </nav>
      <!-- end .breadcrumb-->
      <div class="l-main-content">
        <div class="ui-decor ui-decor_mirror ui-decor_sm-h bg-primary"></div>
        <div class="container">
          <div class="row">
            <div class="offset-lg-3 justify-content-center col-xl-9">
              <mat-form-field appearance="fill" class="w-100 pr-2">
                <mat-label>Buscar carro...</mat-label>
                <input
                  class=""
                  matInput
                  type="text"
                  (keyup)="filterByName($event)"
                />
              </mat-form-field>
            </div>
          </div>
          <div class="row">
            <div class="col-xl-3">
              <aside class="l-sidebar l-sidebar_top_minus">
                <div class="widget section-sidebar bg-gray">
                  <h3
                    class="widget-title row justify-content-between align-items-center no-gutters"
                  >
                    <span class="widget-title__inner col">Search Options</span
                    ><i class="ic flaticon-car-repair col-auto"></i>
                  </h3>
                  <div class="widget-content">
                    <div class="widget-inner">
                      <form class="b-filter">
                        <div class="b-filter__main row">
                          <div class="b-filter__row col-xl-12 col-md-6">
                            <select
                              class="selectpicker"
                              data-width="100%"
                              title="Select Make"
                              multiple="multiple"
                              data-max-options="1"
                              data-style="ui-select"
                            >
                              <option>Select 1</option>
                              <option>Select 2</option>
                              <option>Select 3</option>
                              <option>Select 4</option>
                            </select>
                          </div>
                          <div class="b-filter__row col-xl-12 col-md-6">
                            <select
                              class="selectpicker"
                              data-width="100%"
                              title="Select Model"
                              multiple="multiple"
                              data-max-options="1"
                              data-style="ui-select"
                            >
                              <option>Select 1</option>
                              <option>Select 2</option>
                              <option>Select 3</option>
                              <option>Select 4</option>
                            </select>
                          </div>
                          <div class="b-filter__row col-xl-12 col-md-6">
                            <select
                              class="selectpicker"
                              data-width="100%"
                              title="Vehicle Type"
                              multiple="multiple"
                              data-max-options="1"
                              data-style="ui-select"
                            >
                              <option>Select 1</option>
                              <option>Select 2</option>
                              <option>Select 3</option>
                              <option>Select 4</option>
                            </select>
                          </div>
                          <div class="b-filter__row col-xl-12 col-md-6">
                            <select
                              class="selectpicker"
                              data-width="100%"
                              title="Condition"
                              multiple="multiple"
                              data-max-options="1"
                              data-style="ui-select"
                            >
                              <option>Select 1</option>
                              <option>Select 2</option>
                              <option>Select 3</option>
                              <option>Select 4</option>
                            </select>
                          </div>
                          <div class="col-12">
                            <div class="b-filter__row row">
                              <div class="b-filter__item col-md-6">
                                <select
                                  class="selectpicker"
                                  data-width="100%"
                                  title="From"
                                  multiple="multiple"
                                  data-max-options="1"
                                  data-style="ui-select"
                                >
                                  <option>Select 1</option>
                                  <option>Select 2</option>
                                  <option>Select 3</option>
                                  <option>Select 4</option>
                                </select>
                              </div>
                              <div class="b-filter__item col-md-6">
                                <select
                                  class="selectpicker"
                                  data-width="100%"
                                  title="To"
                                  multiple="multiple"
                                  data-max-options="1"
                                  data-style="ui-select"
                                >
                                  <option>Select 1</option>
                                  <option>Select 2</option>
                                  <option>Select 3</option>
                                  <option>Select 4</option>
                                </select>
                              </div>
                            </div>
                          </div>
                          <div class="b-filter__row col-xl-12 col-md-6">
                            <select
                              class="selectpicker"
                              data-width="100%"
                              title="Transmission"
                              multiple="multiple"
                              data-max-options="1"
                              data-style="ui-select"
                            >
                              <option>Select 1</option>
                              <option>Select 2</option>
                              <option>Select 3</option>
                              <option>Select 4</option>
                            </select>
                          </div>
                          <div class="b-filter__row col-xl-12 col-md-6">
                            <select
                              class="selectpicker"
                              data-width="100%"
                              title="Fuel Type"
                              multiple="multiple"
                              data-max-options="1"
                              data-style="ui-select"
                            >
                              <option>Select 1</option>
                              <option>Select 2</option>
                              <option>Select 3</option>
                              <option>Select 4</option>
                            </select>
                          </div>
                        </div>
                        <div class="b-filter-slider ui-filter-slider">
                          <div class="b-filter-slider__title">Price</div>
                          <div class="b-filter-slider__main">
                            <ngx-slider
                              [(value)]="minPrice"
                              [(highValue)]="maxPrice"
                              [options]="options"
                            >
                            </ngx-slider>

                            <div class="b-filter__row row">
                              <div class="b-filter__item col-md-6">
                                <input
                                  class="ui-select"
                                  [value]="'$' + minPrice"
                                  id="input-with-keypress-0"
                                />
                              </div>
                              <div class="b-filter__item col-md-6">
                                <input
                                  class="ui-select"
                                  [value]="'$' + maxPrice"
                                  id="input-with-keypress-1"
                                />
                              </div>
                            </div>
                          </div>
                        </div>
                        <!-- <div class="b-filter-slider ui-filter-slider">
                              <div class="b-filter-slider__title">Search radius</div>
                              <div class="b-filter-slider__main">
                                <div id="sliderRange"></div>
                                <div class="b-filter__row">
                                  <input class="ui-select" id="input-range"/>
                                </div>
                              </div>
                            </div> -->
                        <button
                          class="b-filter__reset btn btn-secondary w-100"
                          type="reset"
                          (click)="resetFilters()"
                        >
                          Limpiar Filtros
                        </button>
                      </form>
                    </div>
                  </div>
                </div>
                <!-- end .b-filter-->
              </aside>
            </div>
            <div class="col-xl-9">
              <div class="b-filter-goods b-filter-goods_brd">
                <div class="row align-items-center justify-content-between">
                  <div class="col-md-auto">
                    <div class="b-filter-goods__info">
                      Showing results<strong> {{ filteredCarros.length === 0 ? 0 : currPage*10 + 1 }} to {{ currPage*10 + 10 > filteredCarros.length ? filteredCarros.length : currPage*10 + 10 }}</strong>
                      of total {{ filteredCarros.length }}
                    </div>
                  </div>
                  <div class="col-md-auto">
                    <div class="b-filter-goods__wrap">
                      <div class="b-filter-goods__select">
                        <select
                          class="selectpicker"
                          data-width="210px"
                          title="Sort by Newest First"
                          multiple="multiple"
                          data-max-options="1"
                          data-style="ui-select"
                          (change)="sortBy($event)"
                        >
                          <option>A-Z</option>
                          <option>Z-A</option>
                        </select>
                      </div>
                    </div>
                    <div class="btns-switch">
                      <i
                        class="btns-switch__item js-view-list ic fas fa-list"
                      ></i
                      ><i
                        class="btns-switch__item js-view-th active ic fas fa-th-large"
                      ></i>
                    </div>
                  </div>
                </div>
              </div>
              <!-- end .b-filter-goods-->

              <div class="b-goods-group row">
                <div
                  *ngFor="
                    let carro of filteredCarros
                      | slice: currPage * 10:currPage * 10 + 10
                  "
                  class="col-lg-4 col-md-6"
                >
                <!-- TODO: modelo y foto pueden ser 'undefined' -->
                  <app-published-car
                    [name]="carro.auto.modelo"
                    [photo]="carro.auto.foto"
                    [price]="carro.precioVenta"
                  >
                  </app-published-car>
                </div>
              </div>
              <nav class="mt-3" aria-label="Page navigation example">
                <ul class="pagination justify-content-center">
                  <li
                    *ngFor="let pageId of pages"
                    class="page-item"
                    [ngClass]="{ active: currPage == pageId }"
                  >
                    <a class="page-link" (click)="goToPage(pageId)">{{
                      pageId + 1
                    }}</a>
                  </li>
                </ul>
              </nav>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
